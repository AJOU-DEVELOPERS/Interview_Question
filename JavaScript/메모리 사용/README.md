> # 콜스택 , 메모리 힙

![](https://images.velog.io/images/jinpro/post/2abf688e-db98-48c5-91c1-594c0031e63a/Untitled.png)

###  콜스택

- 원시타입(숫자 등) 데이터가 저장된다.
- 원시타입은 재할당이 가능하다.


### 메모리힙

- 참조타입(객체 등) 데이터가 저장된다.

---

> # 메모리 할당 과정

![](https://images.velog.io/images/jinpro/post/d15012e5-1238-4bd4-8033-a8f2442e9fc8/Untitled%20(1).png)

#### 변수에 값을 할당할때 주의할 점
- 기존 메모리 공간에 저장된 값이 있는지?
- 새로 메모리 공간을 확보해서 값을 만드는지?
- 기존 메모리 공간에 값을 추가하는지?


---

> # 메모리 누수

JavaScript는 V8엔진에서 garbage collection을 통해서 자동으로 메모리 관리를 해준다. 하지만, 프로그램에서 사용했다가 더 이상 필요하지 않지만 메모리 반환이 되지 않은 메모리 조각들이 발생하는 경우가 있다. 이를 **메모리 누수**라 한다.

### 의도치않은 전역변수 사용
  
  - 함수 내부에서 const나 let을 사용하지 않고 변수를 생성하게되면 그 변수는 전역 변수로 선언이 된다. 이처럼,함수 스코프 내부에 변수를 선언하여 사용하려 하였으나 의도치않게 전역변수로 사용되는 경우이다.
    
### 잊혀진 타이머 혹은 콜백함수
  
  - 외부 변수를 setInterval 내부에서 사용하는 경우 외부 변수는 메모리 해제를 할 수 없다.
  
  - 이벤트 등록 이후 제거하지 않는 경우
  
### 클로져
  - 내부 함수에서 외부 함수의 변수를 사용하거나 상위 스코프의 변수에 접근하여 내부 함수를 생성할때마다 외부 함수의 변수를 계속해서 생성해야 한다.

### DOM 참조
  
  - 돔에 접근하는 변수를 여러 객체 안에서 사용하는 경우, 돔에 접근하는 변수를 제거하게 되면 여러 객체에서 변수를 제거해주어야한다.
  
  - 테이블의 특정 셀에 대한 참조를 사용할 때, DOM에서 이 테이블을 제거하게되어도 셀에 대한 참조로 인해 테이블 전체가 메모리에 유지된다.
